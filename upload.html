<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head lang="en">
    <meta charset="UTF-8">
    <title>Upload Your Data</title>
    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'/>

    <!-- Styles -->
    <link href="style/style.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="style/themes/message_default.css">

    <!-- Scripts -->
    <script type="text/javascript" src="js/external-libraries/three.min.js"></script>
    <script type="text/javascript"  src="js/external-libraries/TrackballControls.js"></script>
    <script  type="text/javascript" src="js/external-libraries/papaparse.js"></script>
    <script type="text/javascript" src="js/external-libraries/oculusRiftEffect.js"></script>
    <script type="text/javascript" src="js/external-libraries/Projector.js"></script>
    <script type="text/javascript" src="js/utils/Dijkstra.js"></script>

    <script src="js/external-libraries/OculusControls.js"></script>
    <script src="js/external-libraries/queue.js"></script>
    <script src="js/external-libraries/d3.js" ></script>
    <script type = "text/javascript" src = "js/utils/scale.js"></script>
    <script src="js/external-libraries/jQuery.js"></script>
    <script src="js/utils/parsingData.js"></script>
    <script type = "text/javascript" src="js/external-libraries/colorbrewer.js"></script>
    <script type = "text/javascript" src ="js/utils/BCT.js"></script>
    <script src="js/graphics.js"></script>
    <script src="js/GUI.js"></script>
    <script src="js/model.js"></script>
    <script type="text/javascript" src="js/graphicsUtils.js"></script>
    <script src = "js/external-libraries/message.js"></script>
    <script src = "js/utils/upload.js"></script>
    <script src = "js/indexedDB.js"></script>
    <script >
        document.addEventListener("DOMContentLoaded", function(){

            if("indexedDB" in window) {
                idbSupported = true;
            } else{
                alert("This browser is not supporting indexedDB, so the application may not work correctly.")
            }

            if(idbSupported) {

                var deleteRequest = indexedDB.deleteDatabase('db');

                deleteRequest.onsuccess = function(e){
                    console.log("db deleted successfully");
                }

                var openRequest = indexedDB.open("db",1);

                openRequest.onupgradeneeded = function(e) {
                    console.log("Upgrading...");
                    console.log("running onupgradeneeded");
                    var thisDB = e.target.result;

                    if(!thisDB.objectStoreNames.contains("locations")) {
                        thisDB.createObjectStore("locations");
                    }

                };

                openRequest.onsuccess = function(e) {
                    console.log("Success!");
                    db = e.target.result;
                };

                openRequest.onerror = function(e) {
                    console.log("Error");
                    console.dir(e);
                };

            }

        },false);


    </script>

</head>
<body>
<h1>Upload Your Data</h1>

<div class = "menu" id  = 'full'>
    <p id="black">
        The data uploaded from this page will not be sent anywhere and they will always remain on your local PC/Mac.
    </p>

    <button type = 'button' id = 'anatomyBtn'>
        <input id = 'anatomyCentroids' type = 'file' multiple onchange="uploadAnatomyCentroids()">Upload Centroids</input>
    </button>
    <br>


    <button type = 'button' id = 'isomapBtn'>
        <input id = 'isomapCentroid' type = 'file' multiple onchange="uploadIsomapCentroids()">Embedding 1 Centroids</input>
    </button>

    <br>


    <button type = 'button' id = 'mdsBtn'>
        <input id = 'mdsCentroid' type = 'file' onchange="uploadMDSCentroids()">Embedding 2 Centroids</input>
    </button>
    <br>

    <button type = 'button' id = 'tsneBtn'>
        <input id = 'tsneCentroid' type = 'file' onchange="uploadtSNECentroids()">Embedding 3 Centroids</input>
    </button>

    <br>

    <button type = 'button' id = 'connectionsBtn'>
        <input id = 'anatomyConnections' type = 'file' multiple onchange="uploadNormalConnections()">Upload Connections</input>
    </button>

    <br>

    <button type = 'button' id = 'labelKeyBtn'>
        <input id = 'labelkey' type = 'file' onchange="uploadLabelKey()">Upload Label Key</input>
    </button>

    <br>

    <button type = 'button' id = 'atlasBtn'>
        <input id = 'atlas' type = 'file' onchange="uploadAtlas()">Upload Atlas</input>
    </button>

    <br>

    <button type = 'button' id = 'customMetricBtn'>
        <input id = 'customMetric' type = 'file' onchange="uploadCustomMetric()">Upload Custom Value</input>
    </button>



    <p>Choose Your Technology</p>

    <input id="desktop" type="radio" name="technology" value="0" checked="true">
    <label class="label" for="desktop" color = "black">Desktop</label>
    <br>
    <input id="oculusv1" type="radio" name="technology" value="1">
    <label class="label" for="oculusv1">Oculus V1</label>
    <br>
    <input   id="oculusv2" type="radio" name="technology" value="2">
    <label class="label" for="oculusv2">Oculus V2</label>
    <br>

    <button type = 'button' onclick="start()">
        Start!
    </button>

</div>


</body>
</html>